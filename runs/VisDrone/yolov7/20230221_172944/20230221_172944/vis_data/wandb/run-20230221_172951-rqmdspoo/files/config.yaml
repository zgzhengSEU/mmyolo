wandb_version: 1

ALGO_NAME:
  desc: null
  value: yolov7
CLASSES:
  desc: null
  value:
  - pedestrian
  - people
  - bicycle
  - car
  - van
  - truck
  - tricycle
  - awning-tricycle
  - bus
  - motor
DATASET_NAME:
  desc: null
  value: VisDrone
METAINFO:
  desc: null
  value:
    classes:
    - pedestrian
    - people
    - bicycle
    - car
    - van
    - truck
    - tricycle
    - awning-tricycle
    - bus
    - motor
NOW_TIME:
  desc: null
  value: '20230221_172944'
TAGS:
  desc: null
  value:
  - yolov7
  - 300e
Wandb_init_kwargs:
  desc: null
  value:
    group: yolov7
    name: yolov7
    project: VisDrone
    tags:
    - yolov7
    - 300e
_wandb:
  desc: null
  value:
    cli_version: 0.13.10
    framework: torch
    is_jupyter_run: false
    is_kaggle_kernel: false
    python_version: 3.10.9
    start_time: 1676971791.297914
    t:
      1:
      - 1
      - 5
      - 37
      - 38
      - 41
      - 53
      - 55
      - 80
      - 82
      2:
      - 1
      - 5
      - 37
      - 38
      - 41
      - 53
      - 55
      - 80
      - 82
      3:
      - 13
      - 15
      - 23
      4: 3.10.9
      5: 0.13.10
      8:
      - 5
anchors:
  desc: null
  value:
  - - - 12
      - 16
    - - 19
      - 36
    - - 40
      - 28
  - - - 36
      - 75
    - - 76
      - 55
    - - 72
      - 146
  - - - 142
      - 110
    - - 192
      - 243
    - - 459
      - 401
base_lr:
  desc: null
  value: 0.01
batch_shapes_cfg:
  desc: null
  value:
    batch_size: 1
    extra_pad_ratio: 0.5
    img_size: 640
    size_divisor: 32
    type: BatchShapePolicy
custom_hooks:
  desc: null
  value:
  - ema_type: ExpMomentumEMA
    momentum: 0.0001
    priority: 49
    strict_load: false
    type: EMAHook
    update_buffers: true
data_root:
  desc: null
  value: data/VisDrone/
dataset_type:
  desc: null
  value: YOLOv5CocoDataset
default_hooks:
  desc: null
  value:
    checkpoint:
      interval: 1
      max_keep_ckpts: 3
      save_best: auto
      save_param_scheduler: false
      type: CheckpointHook
    logger:
      interval: 50
      type: LoggerHook
    param_scheduler:
      lr_factor: 0.1
      max_epochs: 300
      scheduler_type: cosine
      type: YOLOv5ParamSchedulerHook
    sampler_seed:
      type: DistSamplerSeedHook
    timer:
      type: IterTimerHook
    visualization:
      type: mmdet.DetVisualizationHook
default_scope:
  desc: null
  value: mmyolo
env_cfg:
  desc: null
  value:
    cudnn_benchmark: true
    dist_cfg:
      backend: nccl
    mp_cfg:
      mp_start_method: fork
      opencv_num_threads: 0
file_client_args:
  desc: null
  value:
    backend: disk
img_scale:
  desc: null
  value:
  - 640
  - 640
launcher:
  desc: null
  value: none
load_from:
  desc: null
  value: https://download.openmmlab.com/mmyolo/v0/yolov7/yolov7_l_syncbn_fast_8x16b-300e_coco/yolov7_l_syncbn_fast_8x16b-300e_coco_20221123_023601-8113c0eb.pth
log_level:
  desc: null
  value: INFO
log_processor:
  desc: null
  value:
    by_epoch: true
    type: LogProcessor
    window_size: 50
loss_bbox_weight:
  desc: null
  value: 0.05
loss_cls_weight:
  desc: null
  value: 0.3
loss_obj_weight:
  desc: null
  value: 0.7
lr_factor:
  desc: null
  value: 0.1
max_epochs:
  desc: null
  value: 300
max_keep_ckpts:
  desc: null
  value: 3
max_translate_ratio:
  desc: null
  value: 0.2
mixup_alpha:
  desc: null
  value: 8.0
mixup_beta:
  desc: null
  value: 8.0
mixup_prob:
  desc: null
  value: 0.15
model:
  desc: null
  value:
    backbone:
      act_cfg:
        inplace: true
        type: SiLU
      arch: L
      norm_cfg:
        eps: 0.001
        momentum: 0.03
        type: BN
      type: YOLOv7Backbone
    bbox_head:
      head_module:
        featmap_strides:
        - 8
        - 16
        - 32
        in_channels:
        - 256
        - 512
        - 1024
        num_base_priors: 3
        num_classes: 10
        type: YOLOv7HeadModule
      loss_bbox:
        bbox_format: xywh
        iou_mode: ciou
        loss_weight: 0.05
        reduction: mean
        return_iou: true
        type: IoULoss
      loss_cls:
        loss_weight: 0.0375
        reduction: mean
        type: mmdet.CrossEntropyLoss
        use_sigmoid: true
      loss_obj:
        loss_weight: 0.7
        reduction: mean
        type: mmdet.CrossEntropyLoss
        use_sigmoid: true
      obj_level_weights:
      - 4.0
      - 1.0
      - 0.4
      prior_generator:
        base_sizes:
        - - - 12
            - 16
          - - 19
            - 36
          - - 40
            - 28
        - - - 36
            - 75
          - - 76
            - 55
          - - 72
            - 146
        - - - 142
            - 110
          - - 192
            - 243
          - - 459
            - 401
        strides:
        - 8
        - 16
        - 32
        type: mmdet.YOLOAnchorGenerator
      prior_match_thr: 4.0
      simota_candidate_topk: 10
      simota_cls_weight: 1.0
      simota_iou_weight: 3.0
      type: YOLOv7Head
    data_preprocessor:
      bgr_to_rgb: true
      mean:
      - 0.0
      - 0.0
      - 0.0
      std:
      - 255.0
      - 255.0
      - 255.0
      type: YOLOv5DetDataPreprocessor
    neck:
      act_cfg:
        inplace: true
        type: SiLU
      block_cfg:
        block_ratio: 0.25
        middle_ratio: 0.5
        num_blocks: 4
        num_convs_in_block: 1
        type: ELANBlock
      in_channels:
      - 512
      - 1024
      - 1024
      norm_cfg:
        eps: 0.001
        momentum: 0.03
        type: BN
      out_channels:
      - 128
      - 256
      - 512
      type: YOLOv7PAFPN
      upsample_feats_cat_first: false
    test_cfg:
      max_per_img: 300
      multi_label: true
      nms:
        iou_threshold: 0.65
        type: nms
      nms_pre: 30000
      score_thr: 0.001
    type: YOLODetector
model_test_cfg:
  desc: null
  value:
    max_per_img: 300
    multi_label: true
    nms:
      iou_threshold: 0.65
      type: nms
    nms_pre: 30000
    score_thr: 0.001
mosiac4_pipeline:
  desc: null
  value:
  - img_scale:
    - 640
    - 640
    pad_val: 114.0
    pre_transform:
    - file_client_args:
        backend: disk
      type: LoadImageFromFile
    - type: LoadAnnotations
      with_bbox: true
    type: Mosaic
  - border:
    - -320
    - -320
    border_val:
    - 114
    - 114
    - 114
    max_rotate_degree: 0.0
    max_shear_degree: 0.0
    max_translate_ratio: 0.2
    scaling_ratio_range:
    - 0.1
    - 2.0
    type: YOLOv5RandomAffine
mosiac9_pipeline:
  desc: null
  value:
  - img_scale:
    - 640
    - 640
    pad_val: 114.0
    pre_transform:
    - file_client_args:
        backend: disk
      type: LoadImageFromFile
    - type: LoadAnnotations
      with_bbox: true
    type: Mosaic9
  - border:
    - -320
    - -320
    border_val:
    - 114
    - 114
    - 114
    max_rotate_degree: 0.0
    max_shear_degree: 0.0
    max_translate_ratio: 0.2
    scaling_ratio_range:
    - 0.1
    - 2.0
    type: YOLOv5RandomAffine
norm_cfg:
  desc: null
  value:
    eps: 0.001
    momentum: 0.03
    type: BN
num_classes:
  desc: null
  value: 10
num_det_layers:
  desc: null
  value: 3
num_epoch_stage2:
  desc: null
  value: 30
obj_level_weights:
  desc: null
  value:
  - 4.0
  - 1.0
  - 0.4
optim_wrapper:
  desc: null
  value:
    constructor: YOLOv7OptimWrapperConstructor
    optimizer:
      batch_size_per_gpu: 16
      lr: 0.01
      momentum: 0.937
      nesterov: true
      type: SGD
      weight_decay: 0.0005
    type: OptimWrapper
param_scheduler:
  desc: null
  value: null
persistent_workers:
  desc: null
  value: true
pre_transform:
  desc: null
  value:
  - file_client_args:
      backend: disk
    type: LoadImageFromFile
  - type: LoadAnnotations
    with_bbox: true
prior_match_thr:
  desc: null
  value: 4.0
randchoice_mosaic_pipeline:
  desc: null
  value:
    prob:
    - 0.8
    - 0.2
    transforms:
    - - img_scale:
        - 640
        - 640
        pad_val: 114.0
        pre_transform:
        - file_client_args:
            backend: disk
          type: LoadImageFromFile
        - type: LoadAnnotations
          with_bbox: true
        type: Mosaic
      - border:
        - -320
        - -320
        border_val:
        - 114
        - 114
        - 114
        max_rotate_degree: 0.0
        max_shear_degree: 0.0
        max_translate_ratio: 0.2
        scaling_ratio_range:
        - 0.1
        - 2.0
        type: YOLOv5RandomAffine
    - - img_scale:
        - 640
        - 640
        pad_val: 114.0
        pre_transform:
        - file_client_args:
            backend: disk
          type: LoadImageFromFile
        - type: LoadAnnotations
          with_bbox: true
        type: Mosaic9
      - border:
        - -320
        - -320
        border_val:
        - 114
        - 114
        - 114
        max_rotate_degree: 0.0
        max_shear_degree: 0.0
        max_translate_ratio: 0.2
        scaling_ratio_range:
        - 0.1
        - 2.0
        type: YOLOv5RandomAffine
    type: RandomChoice
randchoice_mosaic_prob:
  desc: null
  value:
  - 0.8
  - 0.2
resume:
  desc: null
  value: false
save_epoch_intervals:
  desc: null
  value: 1
scaling_ratio_range:
  desc: null
  value:
  - 0.1
  - 2.0
simota_candidate_topk:
  desc: null
  value: 10
simota_cls_weight:
  desc: null
  value: 1.0
simota_iou_weight:
  desc: null
  value: 3.0
strides:
  desc: null
  value:
  - 8
  - 16
  - 32
test_cfg:
  desc: null
  value:
    type: TestLoop
test_dataloader:
  desc: null
  value:
    batch_size: 1
    dataset:
      ann_file: annotations/val.json
      batch_shapes_cfg:
        batch_size: 1
        extra_pad_ratio: 0.5
        img_size: 640
        size_divisor: 32
        type: BatchShapePolicy
      data_prefix:
        img: images/val/
      data_root: data/VisDrone/
      pipeline:
      - file_client_args:
          backend: disk
        type: LoadImageFromFile
      - scale:
        - 640
        - 640
        type: YOLOv5KeepRatioResize
      - allow_scale_up: false
        pad_val:
          img: 114
        scale:
        - 640
        - 640
        type: LetterResize
      - _scope_: mmdet
        type: LoadAnnotations
        with_bbox: true
      - meta_keys:
        - img_id
        - img_path
        - ori_shape
        - img_shape
        - scale_factor
        - pad_param
        type: mmdet.PackDetInputs
      test_mode: true
      type: YOLOv5CocoDataset
    drop_last: false
    num_workers: 2
    persistent_workers: true
    pin_memory: true
    sampler:
      shuffle: false
      type: DefaultSampler
test_evaluator:
  desc: null
  value:
    ann_file: data/VisDrone/annotations/val.json
    metric: bbox
    proposal_nums:
    - 100
    - 1
    - 10
    type: mmdet.CocoMetric
test_pipeline:
  desc: null
  value:
  - file_client_args:
      backend: disk
    type: LoadImageFromFile
  - scale:
    - 640
    - 640
    type: YOLOv5KeepRatioResize
  - allow_scale_up: false
    pad_val:
      img: 114
    scale:
    - 640
    - 640
    type: LetterResize
  - _scope_: mmdet
    type: LoadAnnotations
    with_bbox: true
  - meta_keys:
    - img_id
    - img_path
    - ori_shape
    - img_shape
    - scale_factor
    - pad_param
    type: mmdet.PackDetInputs
train_ann_file:
  desc: null
  value: annotations/train.json
train_batch_size_per_gpu:
  desc: null
  value: 16
train_cfg:
  desc: null
  value:
    dynamic_intervals:
    - - 270
      - 1
    max_epochs: 300
    type: EpochBasedTrainLoop
    val_interval: 1
train_data_prefix:
  desc: null
  value: images/train/
train_dataloader:
  desc: null
  value:
    batch_size: 16
    collate_fn:
      type: yolov5_collate
    dataset:
      ann_file: annotations/train.json
      data_prefix:
        img: images/train/
      data_root: data/VisDrone/
      filter_cfg:
        filter_empty_gt: false
        min_size: 32
      pipeline:
      - file_client_args:
          backend: disk
        type: LoadImageFromFile
      - type: LoadAnnotations
        with_bbox: true
      - prob:
        - 0.8
        - 0.2
        transforms:
        - - img_scale:
            - 640
            - 640
            pad_val: 114.0
            pre_transform:
            - file_client_args:
                backend: disk
              type: LoadImageFromFile
            - type: LoadAnnotations
              with_bbox: true
            type: Mosaic
          - border:
            - -320
            - -320
            border_val:
            - 114
            - 114
            - 114
            max_rotate_degree: 0.0
            max_shear_degree: 0.0
            max_translate_ratio: 0.2
            scaling_ratio_range:
            - 0.1
            - 2.0
            type: YOLOv5RandomAffine
        - - img_scale:
            - 640
            - 640
            pad_val: 114.0
            pre_transform:
            - file_client_args:
                backend: disk
              type: LoadImageFromFile
            - type: LoadAnnotations
              with_bbox: true
            type: Mosaic9
          - border:
            - -320
            - -320
            border_val:
            - 114
            - 114
            - 114
            max_rotate_degree: 0.0
            max_shear_degree: 0.0
            max_translate_ratio: 0.2
            scaling_ratio_range:
            - 0.1
            - 2.0
            type: YOLOv5RandomAffine
        type: RandomChoice
      - alpha: 8.0
        beta: 8.0
        pre_transform:
        - file_client_args:
            backend: disk
          type: LoadImageFromFile
        - type: LoadAnnotations
          with_bbox: true
        - prob:
          - 0.8
          - 0.2
          transforms:
          - - img_scale:
              - 640
              - 640
              pad_val: 114.0
              pre_transform:
              - file_client_args:
                  backend: disk
                type: LoadImageFromFile
              - type: LoadAnnotations
                with_bbox: true
              type: Mosaic
            - border:
              - -320
              - -320
              border_val:
              - 114
              - 114
              - 114
              max_rotate_degree: 0.0
              max_shear_degree: 0.0
              max_translate_ratio: 0.2
              scaling_ratio_range:
              - 0.1
              - 2.0
              type: YOLOv5RandomAffine
          - - img_scale:
              - 640
              - 640
              pad_val: 114.0
              pre_transform:
              - file_client_args:
                  backend: disk
                type: LoadImageFromFile
              - type: LoadAnnotations
                with_bbox: true
              type: Mosaic9
            - border:
              - -320
              - -320
              border_val:
              - 114
              - 114
              - 114
              max_rotate_degree: 0.0
              max_shear_degree: 0.0
              max_translate_ratio: 0.2
              scaling_ratio_range:
              - 0.1
              - 2.0
              type: YOLOv5RandomAffine
          type: RandomChoice
        prob: 0.15
        type: YOLOv5MixUp
      - type: YOLOv5HSVRandomAug
      - prob: 0.5
        type: mmdet.RandomFlip
      - meta_keys:
        - img_id
        - img_path
        - ori_shape
        - img_shape
        - flip
        - flip_direction
        type: mmdet.PackDetInputs
      type: YOLOv5CocoDataset
    num_workers: 8
    persistent_workers: true
    pin_memory: true
    sampler:
      shuffle: true
      type: DefaultSampler
train_num_workers:
  desc: null
  value: 8
train_pipeline:
  desc: null
  value:
  - file_client_args:
      backend: disk
    type: LoadImageFromFile
  - type: LoadAnnotations
    with_bbox: true
  - prob:
    - 0.8
    - 0.2
    transforms:
    - - img_scale:
        - 640
        - 640
        pad_val: 114.0
        pre_transform:
        - file_client_args:
            backend: disk
          type: LoadImageFromFile
        - type: LoadAnnotations
          with_bbox: true
        type: Mosaic
      - border:
        - -320
        - -320
        border_val:
        - 114
        - 114
        - 114
        max_rotate_degree: 0.0
        max_shear_degree: 0.0
        max_translate_ratio: 0.2
        scaling_ratio_range:
        - 0.1
        - 2.0
        type: YOLOv5RandomAffine
    - - img_scale:
        - 640
        - 640
        pad_val: 114.0
        pre_transform:
        - file_client_args:
            backend: disk
          type: LoadImageFromFile
        - type: LoadAnnotations
          with_bbox: true
        type: Mosaic9
      - border:
        - -320
        - -320
        border_val:
        - 114
        - 114
        - 114
        max_rotate_degree: 0.0
        max_shear_degree: 0.0
        max_translate_ratio: 0.2
        scaling_ratio_range:
        - 0.1
        - 2.0
        type: YOLOv5RandomAffine
    type: RandomChoice
  - alpha: 8.0
    beta: 8.0
    pre_transform:
    - file_client_args:
        backend: disk
      type: LoadImageFromFile
    - type: LoadAnnotations
      with_bbox: true
    - prob:
      - 0.8
      - 0.2
      transforms:
      - - img_scale:
          - 640
          - 640
          pad_val: 114.0
          pre_transform:
          - file_client_args:
              backend: disk
            type: LoadImageFromFile
          - type: LoadAnnotations
            with_bbox: true
          type: Mosaic
        - border:
          - -320
          - -320
          border_val:
          - 114
          - 114
          - 114
          max_rotate_degree: 0.0
          max_shear_degree: 0.0
          max_translate_ratio: 0.2
          scaling_ratio_range:
          - 0.1
          - 2.0
          type: YOLOv5RandomAffine
      - - img_scale:
          - 640
          - 640
          pad_val: 114.0
          pre_transform:
          - file_client_args:
              backend: disk
            type: LoadImageFromFile
          - type: LoadAnnotations
            with_bbox: true
          type: Mosaic9
        - border:
          - -320
          - -320
          border_val:
          - 114
          - 114
          - 114
          max_rotate_degree: 0.0
          max_shear_degree: 0.0
          max_translate_ratio: 0.2
          scaling_ratio_range:
          - 0.1
          - 2.0
          type: YOLOv5RandomAffine
      type: RandomChoice
    prob: 0.15
    type: YOLOv5MixUp
  - type: YOLOv5HSVRandomAug
  - prob: 0.5
    type: mmdet.RandomFlip
  - meta_keys:
    - img_id
    - img_path
    - ori_shape
    - img_shape
    - flip
    - flip_direction
    type: mmdet.PackDetInputs
val_ann_file:
  desc: null
  value: annotations/val.json
val_batch_size_per_gpu:
  desc: null
  value: 1
val_cfg:
  desc: null
  value:
    type: ValLoop
val_data_prefix:
  desc: null
  value: images/val/
val_dataloader:
  desc: null
  value:
    batch_size: 1
    dataset:
      ann_file: annotations/val.json
      batch_shapes_cfg:
        batch_size: 1
        extra_pad_ratio: 0.5
        img_size: 640
        size_divisor: 32
        type: BatchShapePolicy
      data_prefix:
        img: images/val/
      data_root: data/VisDrone/
      pipeline:
      - file_client_args:
          backend: disk
        type: LoadImageFromFile
      - scale:
        - 640
        - 640
        type: YOLOv5KeepRatioResize
      - allow_scale_up: false
        pad_val:
          img: 114
        scale:
        - 640
        - 640
        type: LetterResize
      - _scope_: mmdet
        type: LoadAnnotations
        with_bbox: true
      - meta_keys:
        - img_id
        - img_path
        - ori_shape
        - img_shape
        - scale_factor
        - pad_param
        type: mmdet.PackDetInputs
      test_mode: true
      type: YOLOv5CocoDataset
    drop_last: false
    num_workers: 2
    persistent_workers: true
    pin_memory: true
    sampler:
      shuffle: false
      type: DefaultSampler
val_evaluator:
  desc: null
  value:
    ann_file: data/VisDrone/annotations/val.json
    metric: bbox
    proposal_nums:
    - 100
    - 1
    - 10
    type: mmdet.CocoMetric
val_interval_stage2:
  desc: null
  value: 1
val_num_workers:
  desc: null
  value: 2
vis_backends:
  desc: null
  value:
  - type: LocalVisBackend
visualizer:
  desc: null
  value:
    name: visualizer
    type: mmdet.DetLocalVisualizer
    vis_backends:
    - type: LocalVisBackend
    - init_kwargs:
        group: yolov7
        name: yolov7
        project: VisDrone
        tags:
        - yolov7
        - 300e
      type: WandbVisBackend
weight_decay:
  desc: null
  value: 0.0005
work_dir:
  desc: null
  value: runs/VisDrone/yolov7/20230221_172944
